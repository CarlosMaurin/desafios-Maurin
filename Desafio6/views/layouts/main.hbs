<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form HBS</title>
    <!-- Importando bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
</head>
<body>
    {{{body}}}



    <script src="/socket.io/socket.io.js"></script>
    {{!-- <script src="./js/index.js"></script> --}}
    
    
    
    
    
    
    <script>
        const socket = io();

        // envio el msj del cliente al servidor al presionar el boton enviar
        const enviarMensaje= ()=>{
            const inputMail = document.querySelector("#mail");
            const inputContenido = document.querySelector("#contenidoMensaje");
            const mensaje= {
                mail: inputMail.value,
                hora: new Date(),
                texto: inputContenido.value
            }
            socket.emit("from-client-mensajes", mensaje);
        };
        socket.on("from-server-mensajes", mensajes =>{
            render(mensajes);
        });
        const render = (mensajes)=>{
            const inputChat = document.querySelector("#historialChat");
            const mensajesEnviados = mensajes.map(msj =>{
                return `<div>
                            <span style="color:blue;">${msj.mail}</span>
                            <span> - </span>
                            <span style="color:red;">${msj.hora} </span>
                            <span>:</span>
                            <span> </span>
                            <span style="color:green;">${msj.texto} </span>
                        </div>`
            })
            inputChat.innerHTML = mensajesEnviados;

        }

        {{!-- socket.on("from-server-producto", productos =>{
            return productos;
        });
        const enviarProducto = ()=>{
            const inputNombre = document.querySelector("#nombre");
            const inputPrecio = document.querySelector("#precio");
            const inputUrl = document.querySelector("#url");

            const producto = {
                nombre: inputNombre.value,
                precio: inputPrecio.value,
                url: inputUrl.value
            }
            socket.emit("from-client-producto", producto);
        } --}}






    </script>
</body>
</html>
